---
namespace: global

state:
  name: Player
  $passage.visited: 0
  defaultScene: 7Mirrors

characters:
  Dahlia:
  Lily:
  Think:

commands:
  Save:
  Wave:
  LoadScene:
    scene: $defaultScene
    duration: 0

attributes:
  wave:

onPassage:
  set:
    $passage.visited +: 1

---
# Each passage is a key in the YAML file.
Start:
  # A single text block can have many lines using `|`.
  - Dahlia: Hi there!
  - What's up?
  - [Save: {}]
  - Lily: Oh, nothing much.
  - How bout u?
  - Dahlia: You know...
  - sleeping lol
  - Lily: Nice.
  - Dahlia: Want to do something?
  - choices:
      sure!: DoSomething
      nah...: DoNothing
  - [Save: {}]

CheckDoor:
  - if $DoSomething.visited < 1:
      - Think: Can't go outside yet...
    else:
      - Think: You can go outside now!
      - call: MirrorHub

DoSomething:
  - Lily: Yeah why not?
  - Dahlia: Yay!!
  - DoSomething.visited = $DoSomething.visited

DoNothing:
  - Lily: Sorry, I'm busy...
  - Dahlia: :(
